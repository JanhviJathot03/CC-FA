<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Janhvi Jathot - Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- Progress Bar -->
  <div class="progress-bar"></div>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-messages">
        {% for category, message in messages %}
          <div class="flash-message flash-{{ category }}">
            <span>{{ message }}</span>
            <button class="flash-close">&times;</button>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">Janhvi - My AWS Cloud Portfolio</div>
    </div>
  </nav>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="hero-content">
      <h1>Hi, I'm Janhvi ðŸ‘‹</h1>
      <p class="subtitle">Software Developer & Problem Solver</p>
      <div>
        <a href="{{ resume_url }}" target="_blank" class="btn btn-primary"><i class="fas fa-download"></i> Resume</a>
        <a href="#contact" class="btn">Get In Touch</a>
      </div>
      <div class="hero-details-flex">
        <div class="hero-about">
          <h2 class="section-title">About Me</h2>
          <p class="about-text">
            Iâ€™m a Computer Engineering student passionate about full-stack development and problem-solving.
            I enjoy building scalable apps and exploring new technologies.
          </p>
        </div>
        <div class="hero-skills">
          <h2 class="section-title">Skills</h2>
          <div class="skills-list">
            <span class="skill-tag">C++</span>
            <span class="skill-tag">JavaScript</span>
            <span class="skill-tag">React</span>
            <span class="skill-tag">Node.js</span>
            <span class="skill-tag">MongoDB</span>
            <span class="skill-tag">Tailwind CSS</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="section projects">
    <div class="container">
      <h2 class="section-title">Projects</h2>
      <div class="projects-grid">
        <div class="project-card">
          <div class="project-image"><i class="fas fa-brain"></i></div>
          <h3 class="project-title">AI Note Summarizer</h3>
          <p class="project-description">Web app that generates smart summaries using Gemini API.</p>
        </div>
        <div class="project-card">
          <div class="project-image"><i class="fab fa-twitter"></i></div>
          <h3 class="project-title">Twitter Clone</h3>
          <p class="project-description">Full-stack clone with real-time posts & auth.</p>
        </div>
        <div class="project-card">
          <div class="project-image"><i class="fas fa-user-md"></i></div>
          <h3 class="project-title">Therapist Platform</h3>
          <p class="project-description">Role-based dashboards for therapists & patients.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Certificates -->
  <section id="certificates" class="section certificates">
    <div class="container">
      <h2 class="section-title">Certificates</h2>
      <form action="{{ url_for('upload_cert') }}" method="POST" enctype="multipart/form-data" class="upload-form">
        <input type="file" name="file" id="certificateFile" accept=".pdf,.jpg,.jpeg,.png" required>
        <button type="submit" class="btn btn-primary"><i class="fas fa-upload"></i> Upload</button>
      </form>
      <div class="certificates-grid">
        {% for cert in certs %}
          <div class="certificate-card">
            {% if '.pdf' in cert %}
              <div class="certificate-icon">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div class="certificate-content">
                <h3>{{ cert.split('/')[-1].split('_', 1)[-1] if '_' in cert else cert.split('/')[-1] }}</h3>
                <div class="certificate-actions">
                  <a href="https://{{ BUCKET }}.s3.{{ REGION }}.amazonaws.com/{{ cert }}" target="_blank" class="certificate-link">
                    <i class="fas fa-external-link-alt"></i> View PDF
                  </a>
                  <button onclick="deleteCertificate('{{ cert }}')" class="delete-btn">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </div>
              </div>
            {% else %}
              <div class="certificate-image">
                <img src="https://{{ BUCKET }}.s3.{{ REGION }}.amazonaws.com/{{ cert }}" alt="Certificate" loading="lazy">
              </div>
              <div class="certificate-content">
                <h3>{{ cert.split('/')[-1].split('_', 1)[-1] if '_' in cert else cert.split('/')[-1] }}</h3>
                <div class="certificate-actions">
                  <a href="https://{{ BUCKET }}.s3.{{ REGION }}.amazonaws.com/{{ cert }}" target="_blank" class="certificate-link">
                    <i class="fas fa-external-link-alt"></i> View Full Size
                  </a>
                  <button onclick="deleteCertificate('{{ cert }}')" class="delete-btn">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </div>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section">
    <div class="container">
      <h2 class="section-title">Contact</h2>
      <div class="contact-info">
        <p><i class="fas fa-envelope"></i> Email: <a href="mailto:janhvijathot18@gmail.com">janhvijathot18@gmail.com</a></p>
        <p><i class="fab fa-linkedin"></i> LinkedIn: <a href="https://linkedin.com/in/janhvijathot" target="_blank">linkedin.com/in/janhvijathot</a></p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; <span id="year"></span> Janhvi Jathot. All rights reserved.</p>
  </footer>

  <!-- Scroll To Top -->
  <button class="scroll-top"><i class="fas fa-arrow-up"></i></button>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    // Initialize AOS
    AOS.init({ duration: 800, easing: 'ease-in-out', once: true });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Progress bar
    window.addEventListener('scroll', () => {
      const progressBar = document.querySelector('.progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    // Scroll to top button
    const scrollTopBtn = document.querySelector('.scroll-top');
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) scrollTopBtn.classList.add('show');
      else scrollTopBtn.classList.remove('show');
    });
    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Flash messages
    document.querySelectorAll('.flash-close').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.parentElement.style.display = 'none';
      });
    });

    // Auto-hide flash messages after 5 seconds
    setTimeout(() => {
      document.querySelectorAll('.flash-message').forEach(msg => {
        msg.style.opacity = '0';
        setTimeout(() => msg.style.display = 'none', 300);
      });
    }, 5000);

    // Delete certificate function
    function deleteCertificate(certKey) {
      if (confirm('Are you sure you want to delete this certificate?')) {
        fetch('/delete_cert', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ cert_key: certKey })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            location.reload();
          } else {
            alert('Error deleting certificate: ' + data.error);
          }
        })
        .catch(error => {
          alert('Error deleting certificate: ' + error);
        });
      }
    }

    // Set current year in footer
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById("year").textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>